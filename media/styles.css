/* Styles for Remote File Explorer webview */
:root {
	--item-size: 64px;
}
body {
	font-family: Arial, sans-serif;
	margin: 0;
	padding: 0;
	display: flex;
	flex-direction: column;
	height: 100vh;
	outline: none; /* Remove focus outline */
}

body:focus {
	outline: none;
}

#items:focus {
	outline: none;
}
.toolbar {
	display: flex;
	gap: 8px;
	padding: 8px;
	align-items: center;
	background: var(--vscode-editor-background);
	border-bottom: 1px solid rgba(128,128,128,0.06);
}
.nav-controls {
	display: flex;
	gap: 4px;
}
.view-controls {
	display: flex;
	gap: 4px;
	margin-left: 16px;
}
.btn[disabled] {
	opacity: 0.5;
	cursor: default;
}
.btn {
	padding: 6px 8px;
	border-radius: 4px;
	cursor: pointer;
	background: transparent;
	color: var(--vscode-editor-foreground);
	border: 1px solid transparent;
}
.btn.active {
	background: var(--vscode-list-activeSelectionBackground);
	color: var(--vscode-list-activeSelectionForeground);
}
.btn:focus { outline: 2px solid var(--vscode-focusBorder); }
.controls { margin-left: auto; display:flex; gap:6px; align-items:center }

#items.wrap {
	padding: 8px;
	overflow: auto;
	flex: 1 1 auto;
}

/* List mode */
#items.list .item {
	display: flex;
	align-items: center;
	gap: 12px;
	padding: 6px 10px;
	white-space: nowrap;
}

/* Grid mode */
#items.grid {
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(var(--item-size), 1fr));
	gap: 12px;
	padding: 12px;
	align-content: start;
	overflow: auto;
	flex: 1 1 auto;
}
#items.grid .item {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: flex-start;
	gap: 6px;
	padding: 8px;
	text-align: center;
}

/* Prevent I-beam cursor and text selection on items */
.item,
.item .thumb,
.item .name {
	cursor: default;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
}

/* Keyboard focus indicator */
.item.focused {
	outline: 2px solid var(--vscode-focusBorder);
	outline-offset: -2px;
}

/* Ensure focused takes precedence visually */
.item.focused:not(.selected) {
	background-color: var(--vscode-list-focusBackground, var(--vscode-list-hoverBackground));
}

/* Preview state during drag selection */
.item.selecting {
	background-color: var(--vscode-list-hoverBackground);
	outline: 1px solid var(--vscode-focusBorder);
	outline-offset: -1px;
}

.item .thumb {
	width: var(--item-size);
	height: var(--item-size);
	display:flex;
	align-items:center;
	justify-content:center;
	font-size: calc(var(--item-size) * 0.6);
	background: rgba(128,128,128,0.04);
	border-radius: 6px;
	background-size: cover;
	background-position: center;
	background-repeat: no-repeat;
}

/* Icon sizing for the ::before pseudo-elements */
.item .thumb::before {
	font-size: calc(var(--item-size) * 0.6);
	line-height: 1;
}

/* Hide icon when thumbnail is present */
.item.has-thumbnail .thumb::before {
	content: none;
}

/* Thumbnail specific styling */
.item.has-thumbnail .thumb {
	background-color: #fff;
	border: 1px solid rgba(128,128,128,0.2);
}
.item .name {
	overflow: hidden;
	text-overflow: ellipsis;
	max-width: 100%;
	white-space: nowrap; /* keep single-line in list view by default */
}

/* In grid view allow names to wrap onto multiple lines (max 3 rows) with ellipsis */
#items.grid .item .name {
	white-space: normal;
	word-break: break-word;
	max-width: 100%;
	/* Limit to 3 lines using line-clamp */
	display: -webkit-box;
	-webkit-line-clamp: 3;
	line-clamp: 3;
	-webkit-box-orient: vertical;
	overflow: hidden;
	text-overflow: ellipsis;
	line-height: 1.3em;
	max-height: calc(1.3em * 3); /* 3 lines max */
}

.item:hover { background-color: var(--vscode-list-hoverBackground); }
.selected { background-color: var(--vscode-list-activeSelectionBackground); color: var(--vscode-list-activeSelectionForeground); }

/* context menu styles */
#context-menu { font-size: 13px }
